"use strict";(self["webpackChunkspending_management"]=self["webpackChunkspending_management"]||[]).push([[503],{3503:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var i=a(641),n=a(33);const o={class:"dividercontainer"},d={class:"amountdiv"},l={class:"dividercontainer"},s={key:0,class:"weightened",style:{"font-weight":"350"}},r={class:"middle",style:{height:"45px"}},u={class:"dividercontainer"},c={class:"amountdiv",style:{"margin-top":"14px","margin-bottom":"24px"}},g={class:"middle",style:{height:"45px"}},p={class:"dividercontainer"},_={style:{"margin-left":"20px","margin-right":"20px"}},b={class:"chipcontainer",style:{"margin-top":"24px"}},k={style:{"max-width":"90%"}},m={class:"dividercontainer"},h={class:"middle",style:{"margin-top":"24px"}},f={style:{"margin-left":"14px","margin-bottom":"10px"}};function y(e,t,a,y,C,v){const w=(0,i.g2)("ion-back-button"),F=(0,i.g2)("ion-buttons"),x=(0,i.g2)("ion-title"),I=(0,i.g2)("ion-toolbar"),L=(0,i.g2)("ion-header"),W=(0,i.g2)("ion-item-divider"),$=(0,i.g2)("ion-label"),B=(0,i.g2)("ion-input"),T=(0,i.g2)("ion-item"),V=(0,i.g2)("ion-radio"),A=(0,i.g2)("ion-radio-group"),D=(0,i.g2)("ion-list"),N=(0,i.g2)("ion-button"),U=(0,i.g2)("ion-icon"),E=(0,i.g2)("ion-chip"),P=(0,i.g2)("ion-content"),X=(0,i.g2)("ion-popover"),S=(0,i.g2)("ion-page");return(0,i.uX)(),(0,i.Wv)(S,null,{default:(0,i.k6)(()=>[(0,i.bF)(L,{translucent:!0},{default:(0,i.k6)(()=>[(0,i.bF)(I,null,{default:(0,i.k6)(()=>[(0,i.bF)(F,{slot:"start"},{default:(0,i.k6)(()=>[(0,i.bF)(w,{text:e.getBackButtonText(),"default-href":"/"},null,8,["text"])]),_:1}),(0,i.bF)(x,null,{default:(0,i.k6)(()=>t[11]||(t[11]=[(0,i.eW)("Settings")])),_:1,__:[11]})]),_:1})]),_:1}),(0,i.bF)(P,{fullscreen:!0},{default:(0,i.k6)(()=>[(0,i.bF)(L,{collapse:"condense"},{default:(0,i.k6)(()=>[(0,i.bF)(I,null,{default:(0,i.k6)(()=>[(0,i.bF)(x,{size:"large"},{default:(0,i.k6)(()=>t[12]||(t[12]=[(0,i.eW)("Settings")])),_:1,__:[12]})]),_:1})]),_:1}),(0,i.Lk)("div",o,[(0,i.bF)(W,{class:"withtopborder"},{default:(0,i.k6)(()=>t[13]||(t[13]=[(0,i.Lk)("p",{class:"weightened"}," Choose your budget ",-1)])),_:1,__:[13]})]),(0,i.Lk)("div",d,[(0,i.bF)(T,{style:{width:"60%"}},{default:(0,i.k6)(()=>[(0,i.bF)($,{position:"floating"},{default:(0,i.k6)(()=>t[14]||(t[14]=[(0,i.eW)("Your budget:")])),_:1,__:[14]}),(0,i.bF)(B,{onClick:t[0]||(t[0]=t=>e.onInputClick(t)),type:"number",modelValue:e.budget.budget,"onUpdate:modelValue":t[1]||(t[1]=t=>e.budget.budget=t),placeholder:"0.00 $"},null,8,["modelValue"])]),_:1})]),t[30]||(t[30]=(0,i.Lk)("p",{class:"weightened",style:{"font-weight":"350","margin-top":"54px"}}," Budget period: ",-1)),(0,i.Lk)("div",l,[(0,i.bF)(D,null,{default:(0,i.k6)(()=>[(0,i.bF)(A,{value:"monthly",modelValue:e.budget_time,"onUpdate:modelValue":t[2]||(t[2]=t=>e.budget_time=t)},{default:(0,i.k6)(()=>[(0,i.bF)(T,null,{default:(0,i.k6)(()=>[(0,i.bF)($,null,{default:(0,i.k6)(()=>t[15]||(t[15]=[(0,i.eW)("Monthly")])),_:1,__:[15]}),(0,i.bF)(V,{slot:"end",value:"monthly"})]),_:1}),(0,i.bF)(T,null,{default:(0,i.k6)(()=>[(0,i.bF)($,null,{default:(0,i.k6)(()=>t[16]||(t[16]=[(0,i.eW)("Daily")])),_:1,__:[16]}),(0,i.bF)(V,{slot:"end",value:"daily"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),e.isfirst?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("p",s," New budget will be applied to current month. ")),(0,i.Lk)("div",r,[(0,i.bF)(N,{disabled:0==e.budget,onClick:e.saveBudget,style:{width:"200px"}},{default:(0,i.k6)(()=>t[17]||(t[17]=[(0,i.eW)("Save budget")])),_:1,__:[17]},8,["disabled","onClick"])]),(0,i.Lk)("div",u,[(0,i.bF)(W,{class:"withtopborder"},{default:(0,i.k6)(()=>t[18]||(t[18]=[(0,i.Lk)("p",{class:"weightened"}," Default currency ",-1)])),_:1,__:[18]})]),(0,i.Lk)("div",c,[(0,i.bF)(T,{style:{width:"60%"}},{default:(0,i.k6)(()=>[(0,i.bF)($,{position:"floating"},{default:(0,i.k6)(()=>t[19]||(t[19]=[(0,i.eW)("Currency:")])),_:1,__:[19]}),(0,i.bF)(B,{type:"text",modelValue:e.currency,"onUpdate:modelValue":t[3]||(t[3]=t=>e.currency=t),placeholder:""},null,8,["modelValue"])]),_:1})]),(0,i.Lk)("div",g,[(0,i.bF)(N,{onClick:e.updateCurrency},{default:(0,i.k6)(()=>t[20]||(t[20]=[(0,i.eW)("Update default currency")])),_:1,__:[20]},8,["onClick"])]),(0,i.Lk)("div",p,[(0,i.bF)(W,{class:"withtopborder"},{default:(0,i.k6)(()=>t[21]||(t[21]=[(0,i.Lk)("p",{class:"weightened"}," Categories ",-1)])),_:1,__:[21]})]),(0,i.Lk)("div",_,[(0,i.Lk)("div",b,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.categories,(t,a)=>((0,i.uX)(),(0,i.Wv)(E,{key:t,color:e.colors[a%5]},{default:(0,i.k6)(()=>[(0,i.Lk)("p",k,(0,n.v_)(t),1),(0,i.bF)(U,{icon:e.closeCircle,onClick:a=>e.deleteC(t)},null,8,["icon","onClick"])]),_:2},1032,["color"]))),128)),(0,i.bF)(E,{onClick:t[4]||(t[4]=t=>e.isAdding=!0),color:e.colors[e.categories.length%5]},{default:(0,i.k6)(()=>t[22]||(t[22]=[(0,i.eW)(" Add new ")])),_:1,__:[22]},8,["color"])])]),(0,i.Lk)("div",m,[(0,i.bF)(W,{class:"withtopborder"},{default:(0,i.k6)(()=>t[23]||(t[23]=[(0,i.Lk)("p",{class:"weightened"}," Your data ",-1)])),_:1,__:[23]})]),(0,i.Lk)("div",h,[(0,i.bF)(N,{onClick:t[5]||(t[5]=t=>e.export_data()),style:{"padding-left":"10px","padding-right":"10px"}},{default:(0,i.k6)(()=>t[24]||(t[24]=[(0,i.eW)("Export data")])),_:1,__:[24]}),(0,i.bF)(N,{onClick:t[6]||(t[6]=t=>e.import_data()),style:{"padding-left":"10px","padding-right":"10px"}},{default:(0,i.k6)(()=>t[25]||(t[25]=[(0,i.eW)("Import data")])),_:1,__:[25]})]),t[31]||(t[31]=(0,i.Lk)("div",{style:{"margin-bottom":"100px"}},null,-1)),(0,i.bF)(X,{"is-open":e.isAdding,event:e.event,onDidDismiss:t[10]||(t[10]=t=>e.isAdding=!1),style:{"--offset-y":"-220px"}},{default:(0,i.k6)(()=>[(0,i.bF)(P,{class:"ion-padding"},{default:(0,i.k6)(()=>t[26]||(t[26]=[(0,i.Lk)("p",{class:"weightened"},"Add new category",-1)])),_:1,__:[26]}),(0,i.Lk)("div",f,[(0,i.bF)(T,{style:{width:"80%"}},{default:(0,i.k6)(()=>[(0,i.bF)($,{position:"floating"},{default:(0,i.k6)(()=>t[27]||(t[27]=[(0,i.eW)("Name:")])),_:1,__:[27]}),(0,i.bF)(B,{modelValue:e.newCatName,"onUpdate:modelValue":t[7]||(t[7]=t=>e.newCatName=t),placeholder:"category"},null,8,["modelValue"])]),_:1})]),(0,i.bF)(N,{disabled:""==e.newCatName,onClick:t[8]||(t[8]=t=>e.addC()),style:{"padding-left":"10px","padding-right":"10px"}},{default:(0,i.k6)(()=>t[28]||(t[28]=[(0,i.eW)("Add")])),_:1,__:[28]},8,["disabled"]),(0,i.bF)(N,{onClick:t[9]||(t[9]=t=>e.isAdding=!1),style:{"padding-left":"10px","padding-right":"10px","margin-bottom":"12px"}},{default:(0,i.k6)(()=>t[29]||(t[29]=[(0,i.eW)("Cancel")])),_:1,__:[29]})]),_:1},8,["is-open","event"])]),_:1,__:[30,31]})]),_:1})}var C=a(5220),v=a(4795),w=a(1523),F=a(5480),x=(0,i.pM)({name:"HomePage",setup(){const e=(0,C.rd)();return{router:e,closeCircle:F.P0k}},data(){return{currency:"",isfirst:!1,categories:[""],colors:["primary","secondary","tertiary","success","warning"],isAdding:!1,newCatName:"",budget:{budget:0,type:0},budget_time:"monthly",getBackButtonText:()=>{const e=window,t=e&&e.Ionic&&e.Ionic.mode;return"ios"===t?"Inbox":""}}},methods:{export_data(){w.g.export_data().then(e=>{e?this.presentToast("Data exported correctly"):this.presentToast("Could not export data")})},async import_data(){const e=await v.TN.create({header:"Warning: imported data will overwrite local app data. Continue?",buttons:[{text:"Cancel",role:"cancel",handler:()=>{console.log(".")}},{text:"Continue",role:"confirm",handler:()=>{w.g.import_data().then(e=>{e?this.presentToast("Data imported correctly",5e3):this.presentToast("Could not import data",5e3)}).catch(e=>{this.presentToast("Could not import data :(",5e3)})}}]});await e.present(),await e.onDidDismiss()},updateCurrency(){w.g.set_default_value(this.$data.currency),this.presentToast("Currency updated")},onInputClick(e){e.target.autofocus=!0,e.target.select()},async init(){await w.g.init(),this.$data.currency=w.g.get_default_value(),this.$data.categories=w.g.get_categories(),this.$data.budget=w.g.get_budget(),0!=this.$data.budget.type&&(this.$data.budget_time="daily"),"true"==this.$route.params.firsttime&&(console.log("t"),this.$data.isfirst=!0)},async saveBudget(){let e=0;"daily"==this.$data.budget_time&&(e=1),await w.g.set_budget(e,this.$data.budget.budget),this.router.replace({path:"/home"})},deleteC(e){w.g.remove_category(e),this.$data.categories=this.$data.categories.filter(function(t){return t!=e})},addC(){w.g.add_category(this.$data.newCatName)?this.$data.categories=w.g.get_categories():this.presentToast("Category already exists"),this.$data.isAdding=!1},async presentToast(e,t=1500){const a=await v.eE.create({message:e,duration:t,position:"bottom"});await a.present()}},components:{IonBackButton:v.el,IonContent:v.W9,IonInput:v.$w,IonHeader:v.eU,IonPage:v.AO,IonTitle:v.BC,IonToolbar:v.ai,IonRadio:v.KO,IonRadioGroup:v.f0,IonButton:v.Jm,IonButtons:v.QW,IonLabel:v.he,IonChip:v.ZB,IonIcon:v.iq,IonList:v.nf,IonItem:v.uz,IonItemDivider:v.Dg,IonPopover:v.CF},created(){this.init()}}),I=a(6262);const L=(0,I.A)(x,[["render",y]]);var W=L}}]);
//# sourceMappingURL=503.0f710a66.js.map